
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gallery &#8212; semantique 0.1.0 documentation</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Changelog" href="../changelog.html" />
    <link rel="prev" title="semantique.exceptions.MixedTimeZonesError" href="../_generated/semantique.exceptions.MixedTimeZonesError.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">semantique 0.1.0 documentation</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Getting started
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../installation.html">
   Installation
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Documentation
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../guide.html">
   User Guide
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="intro.html">
     Intro
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="references.html">
     References
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="verbs.html">
     Verbs
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="advanced.html">
     Advanced usage
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../reference.html">
   API Reference
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.QueryRecipe.html">
     semantique.QueryRecipe
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.ontology.Ontology.html">
     semantique.ontology.Ontology
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.ontology.Semantique.html">
     semantique.ontology.Semantique
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.factbase.Factbase.html">
     semantique.factbase.Factbase
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.factbase.Opendatacube.html">
     semantique.factbase.Opendatacube
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.factbase.GeotiffArchive.html">
     semantique.factbase.GeotiffArchive
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.extent.SpatialExtent.html">
     semantique.extent.SpatialExtent
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.extent.TemporalExtent.html">
     semantique.extent.TemporalExtent
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.concept.html">
     semantique.concept
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.entity.html">
     semantique.entity
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.event.html">
     semantique.event
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.resource.html">
     semantique.resource
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.appearance.html">
     semantique.appearance
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.artifacts.html">
     semantique.artifacts
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.atmosphere.html">
     semantique.atmosphere
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.reflectance.html">
     semantique.reflectance
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.topography.html">
     semantique.topography
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.collection.html">
     semantique.collection
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.CubeProxy.evaluate.html">
     semantique.CubeProxy.evaluate
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.CubeProxy.extract.html">
     semantique.CubeProxy.extract
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.CubeProxy.filter.html">
     semantique.CubeProxy.filter
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.CubeProxy.filter_time.html">
     semantique.CubeProxy.filter_time
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.CubeProxy.filter_space.html">
     semantique.CubeProxy.filter_space
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.CubeProxy.groupby.html">
     semantique.CubeProxy.groupby
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.CubeProxy.groupby_time.html">
     semantique.CubeProxy.groupby_time
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.CubeProxy.groupby_space.html">
     semantique.CubeProxy.groupby_space
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.CubeProxy.label.html">
     semantique.CubeProxy.label
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.CubeProxy.reduce.html">
     semantique.CubeProxy.reduce
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.CubeCollectionProxy.compose.html">
     semantique.CubeCollectionProxy.compose
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.CubeCollectionProxy.concatenate.html">
     semantique.CubeCollectionProxy.concatenate
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.CubeCollectionProxy.merge.html">
     semantique.CubeCollectionProxy.merge
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.CubeCollectionProxy.evaluate.html">
     semantique.CubeCollectionProxy.evaluate
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.CubeCollectionProxy.extract.html">
     semantique.CubeCollectionProxy.extract
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.CubeCollectionProxy.filter.html">
     semantique.CubeCollectionProxy.filter
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.CubeCollectionProxy.filter_time.html">
     semantique.CubeCollectionProxy.filter_time
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.CubeCollectionProxy.filter_space.html">
     semantique.CubeCollectionProxy.filter_space
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.CubeCollectionProxy.label.html">
     semantique.CubeCollectionProxy.label
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.CubeCollectionProxy.reduce.html">
     semantique.CubeCollectionProxy.reduce
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.value_label.html">
     semantique.value_label
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.geometries.html">
     semantique.geometries
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.time_instant.html">
     semantique.time_instant
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.time_interval.html">
     semantique.time_interval
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.core.QueryProcessor.html">
     semantique.processor.core.QueryProcessor
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.structures.Cube.html">
     semantique.processor.structures.Cube
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.structures.CubeCollection.html">
     semantique.processor.structures.CubeCollection
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.operators.absolute_.html">
     semantique.processor.operators.absolute_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.operators.cube_root_.html">
     semantique.processor.operators.cube_root_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.operators.natural_logarithm_.html">
     semantique.processor.operators.natural_logarithm_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.operators.square_root_.html">
     semantique.processor.operators.square_root_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.operators.invert_.html">
     semantique.processor.operators.invert_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.operators.add_.html">
     semantique.processor.operators.add_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.operators.divide_.html">
     semantique.processor.operators.divide_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.operators.multiply_.html">
     semantique.processor.operators.multiply_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.operators.power_.html">
     semantique.processor.operators.power_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.operators.subtract_.html">
     semantique.processor.operators.subtract_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.operators.and_.html">
     semantique.processor.operators.and_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.operators.or_.html">
     semantique.processor.operators.or_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.operators.equal_.html">
     semantique.processor.operators.equal_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.operators.exclusive_or_.html">
     semantique.processor.operators.exclusive_or_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.operators.greater_.html">
     semantique.processor.operators.greater_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.operators.greater_equal_.html">
     semantique.processor.operators.greater_equal_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.operators.in_.html">
     semantique.processor.operators.in_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.operators.less_.html">
     semantique.processor.operators.less_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.operators.less_equal_.html">
     semantique.processor.operators.less_equal_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.operators.not_equal_.html">
     semantique.processor.operators.not_equal_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.operators.not_in_.html">
     semantique.processor.operators.not_in_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.operators.after_.html">
     semantique.processor.operators.after_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.operators.before_.html">
     semantique.processor.operators.before_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.operators.during_.html">
     semantique.processor.operators.during_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.operators.assign_.html">
     semantique.processor.operators.assign_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.reducers.mean_.html">
     semantique.processor.reducers.mean_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.reducers.product_.html">
     semantique.processor.reducers.product_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.reducers.standard_deviation_.html">
     semantique.processor.reducers.standard_deviation_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.reducers.sum_.html">
     semantique.processor.reducers.sum_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.reducers.variance_.html">
     semantique.processor.reducers.variance_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.reducers.all_.html">
     semantique.processor.reducers.all_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.reducers.any_.html">
     semantique.processor.reducers.any_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.reducers.count_.html">
     semantique.processor.reducers.count_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.reducers.percentage_.html">
     semantique.processor.reducers.percentage_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.reducers.first_.html">
     semantique.processor.reducers.first_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.reducers.last_.html">
     semantique.processor.reducers.last_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.reducers.mode_.html">
     semantique.processor.reducers.mode_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.reducers.max_.html">
     semantique.processor.reducers.max_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.reducers.median_.html">
     semantique.processor.reducers.median_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.reducers.min_.html">
     semantique.processor.reducers.min_
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.utils.convert_datetime64.html">
     semantique.processor.utils.convert_datetime64
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.utils.create_extent_cube.html">
     semantique.processor.utils.create_extent_cube
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.utils.parse_datetime_component.html">
     semantique.processor.utils.parse_datetime_component
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.processor.templates.html">
     semantique.processor.templates
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.exceptions.AlignmentError.html">
     semantique.exceptions.AlignmentError
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.exceptions.EmptyDataError.html">
     semantique.exceptions.EmptyDataError
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.exceptions.InvalidValueTypeError.html">
     semantique.exceptions.InvalidValueTypeError
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.exceptions.InvalidBuildingBlockError.html">
     semantique.exceptions.InvalidBuildingBlockError
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.exceptions.UnknownConceptError.html">
     semantique.exceptions.UnknownConceptError
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.exceptions.UnknownResourceError.html">
     semantique.exceptions.UnknownResourceError
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.exceptions.UnknownResultError.html">
     semantique.exceptions.UnknownResultError
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.exceptions.UnknownReducerError.html">
     semantique.exceptions.UnknownReducerError
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.exceptions.UnknownOperatorError.html">
     semantique.exceptions.UnknownOperatorError
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.exceptions.UnknownDimensionError.html">
     semantique.exceptions.UnknownDimensionError
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.exceptions.UnknownComponentError.html">
     semantique.exceptions.UnknownComponentError
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.exceptions.UnknownLabelError.html">
     semantique.exceptions.UnknownLabelError
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.exceptions.TooManyDimensionsError.html">
     semantique.exceptions.TooManyDimensionsError
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.exceptions.MissingDimensionError.html">
     semantique.exceptions.MissingDimensionError
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.exceptions.MixedDimensionsError.html">
     semantique.exceptions.MixedDimensionsError
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_generated/semantique.exceptions.MixedTimeZonesError.html">
     semantique.exceptions.MixedTimeZonesError
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Gallery
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../changelog.html">
   Changelog
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Community
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../code_of_conduct.html">
   Code of Conduct
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../contributing.html">
   Contributing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://github.com/ZGIS/semantique">
   GitHub repository
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/_notebooks/gallery.nblink.txt"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.nblink</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/ZGIS/semantique"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/ZGIS/semantique/issues/new?title=Issue%20on%20page%20%2F_notebooks/gallery.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/ZGIS/semantique/edit/main/docs/source/_notebooks/gallery.nblink"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Content">
   Content
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Prepare">
   Prepare
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Count-water-and-vegetation-presence">
   Count water and vegetation presence
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Cloud-free-composite">
   Cloud-free composite
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Land-cover-map">
   Land cover map
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Cloud-and-snow-cover-maps">
   Cloud and snow cover maps
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Semantic-content-based-image-retrieval">
   Semantic content based image retrieval
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Parcel-statistics">
   Parcel statistics
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Seasonal-aggregates">
   Seasonal aggregates
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<div class="section" id="Gallery">
<h1>Gallery<a class="headerlink" href="#Gallery" title="Permalink to this headline">¶</a></h1>
<p>In this notebook we show different types of queries and how their response look like.</p>
<div class="section" id="Content">
<h2>Content<a class="headerlink" href="#Content" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="#Count-water-and-vegetation-presence">Count water and vegetation presence</a></p></li>
<li><p><a class="reference external" href="#Cloud-free-composite">Cloud-free composite</a></p></li>
<li><p><a class="reference external" href="#Land-cover-map">Land cover map</a></p></li>
<li><p><a class="reference external" href="#Cloud-and-snow-cover-maps">Cloud and snow cover maps</a></p></li>
<li><p><a class="reference external" href="#Semantic-content-based-image-retrieval">Semantic content based image retrieval</a></p></li>
<li><p><a class="reference external" href="#Parcel-statistics">Parcel statistics</a></p></li>
<li><p><a class="reference external" href="#Seasonal-aggregates">Seasonal aggregates</a></p></li>
</ul>
</div>
<div class="section" id="Prepare">
<h2>Prepare<a class="headerlink" href="#Prepare" title="Permalink to this headline">¶</a></h2>
<p>Import the semantique package:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>import semantique as sq
</pre></div>
</div>
</div>
<p>Import other packages we will use in this demo:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>import pandas as pd
import geopandas as gpd
import matplotlib.pyplot as plt
import numpy as np
import json
</pre></div>
</div>
</div>
<p>We will create the query recipes on-the-fly in each example. The other components, however, we construct in advance. In some examples we might change or extend them a bit. See the <a class="reference internal" href="intro.html"><span class="doc">Intro notebook</span></a> for details.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span># Ontology.
with open(&quot;files/ontology.json&quot;, &quot;r&quot;) as file:
    ontology = sq.ontology.Semantique(json.load(file))

# Factbase.
with open(&quot;files/factbase.json&quot;, &quot;r&quot;) as file:
    factbase = sq.factbase.GeotiffArchive(json.load(file), src = &quot;files/resources.zip&quot;)

# Extent.
space = sq.SpatialExtent(gpd.read_file(&quot;files/footprint.geojson&quot;))
time = sq.TemporalExtent(&quot;2019-01-01&quot;, &quot;2020-12-31&quot;)

# Additional configuration.
config = {&quot;crs&quot;: 3035, &quot;tz&quot;: &quot;UTC&quot;, &quot;spatial_resolution&quot;: [-10, 10]}
</pre></div>
</div>
</div>
</div>
<div class="section" id="Count-water-and-vegetation-presence">
<h2>Count water and vegetation presence<a class="headerlink" href="#Count-water-and-vegetation-presence" title="Permalink to this headline">¶</a></h2>
<p>First, we count for each location in our spatial extent how many times during our temporal extent a certain semantic concept (in this example we use water and vegetation) was observed.</p>
<p>Then, we count for each timestamp at which observations were made during our temporal extent at how many locations in our spatial extent these concepts were observed.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>recipe = sq.QueryRecipe()

recipe[&quot;water_count_time&quot;] = sq.entity(&quot;water&quot;).reduce(&quot;time&quot;, &quot;count&quot;)
recipe[&quot;vegetation_count_time&quot;] = sq.entity(&quot;vegetation&quot;).reduce(&quot;time&quot;, &quot;count&quot;)
recipe[&quot;water_count_space&quot;] = sq.entity(&quot;water&quot;).reduce(&quot;space&quot;, &quot;count&quot;)
recipe[&quot;vegetation_count_space&quot;] = sq.entity(&quot;vegetation&quot;).reduce(&quot;space&quot;, &quot;count&quot;)

response = recipe.execute(factbase, ontology, space, time, **config)
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>f, (ax1, ax2) = plt.subplots(1, 2, figsize = (15, 5))

water_count = response[&quot;water_count_time&quot;]
values = list(range(int(np.nanmin(water_count)), int(np.nanmax(water_count)) + 1))
levels = [x - 0.5 for x in values + [max(values) + 1]]
colors = plt.cm.Blues
water_count.plot(ax = ax1, levels = levels, cmap = colors, cbar_kwargs = {&quot;ticks&quot;: values, &quot;label&quot;: &quot;count&quot;})
ax1.set_title(&quot;Water&quot;)

vegetation_count = response[&quot;vegetation_count_time&quot;]
values = list(range(int(np.nanmin(vegetation_count)), int(np.nanmax(vegetation_count)) + 1))
levels = [x - 0.5 for x in values + [max(values) + 1]]
colors = plt.cm.Greens
vegetation_count.plot(ax = ax2, levels = levels, cmap = colors, cbar_kwargs = {&quot;ticks&quot;: values, &quot;label&quot;: &quot;count&quot;})
ax2.set_title(&quot;Vegetation&quot;)

plt.tight_layout()
plt.draw()
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/_notebooks_gallery_8_0.png" src="../_images/_notebooks_gallery_8_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>water_count_df = response[&quot;water_count_space&quot;].sq.drop_non_dimension_coords().to_dataframe()
vegetation_count_df = response[&quot;vegetation_count_space&quot;].sq.drop_non_dimension_coords().to_dataframe()
water_count_df.join(vegetation_count_df, on = &quot;time&quot;)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>water_count_space</th>
      <th>vegetation_count_space</th>
    </tr>
    <tr>
      <th>time</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2019-12-15 10:17:33.408715</th>
      <td>0.0</td>
      <td>6045.0</td>
    </tr>
    <tr>
      <th>2020-09-05 10:17:43.167942</th>
      <td>44804.0</td>
      <td>243234.0</td>
    </tr>
    <tr>
      <th>2020-12-19 10:17:34.610661</th>
      <td>78607.0</td>
      <td>89174.0</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="Cloud-free-composite">
<h2>Cloud-free composite<a class="headerlink" href="#Cloud-free-composite" title="Permalink to this headline">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>recipe = sq.QueryRecipe()

red_band = sq.reflectance(&quot;s2_band04&quot;)
green_band = sq.reflectance(&quot;s2_band03&quot;)
blue_band = sq.reflectance(&quot;s2_band02&quot;)

recipe[&quot;composite&quot;] = sq.collection(red_band, green_band, blue_band).\
    filter(sq.entity(&quot;cloud&quot;).evaluate(&quot;invert&quot;)).\
    reduce(&quot;time&quot;, &quot;median&quot;).\
    concatenate(&quot;band&quot;)

response = recipe.execute(factbase, ontology, space, time, **config)
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>f, ax = plt.subplots(1, figsize = (7, 5))

composite = response[&quot;composite&quot;]
composite.plot.imshow(x = &quot;x&quot;, y = &quot;y&quot;, rgb = &quot;band&quot;, robust = True)
ax.set_title(&quot;Cloud-free composite&quot;)

plt.tight_layout()
plt.draw()
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/_notebooks_gallery_12_0.png" src="../_images/_notebooks_gallery_12_0.png" />
</div>
</div>
</div>
<div class="section" id="Land-cover-map">
<h2>Land cover map<a class="headerlink" href="#Land-cover-map" title="Permalink to this headline">¶</a></h2>
<p>Mapping for each location in space the most often observed semantic concept over time.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>recipe = sq.QueryRecipe()

recipe[&quot;land_cover&quot;] = sq.collection(sq.entity(&quot;water&quot;), sq.entity(&quot;vegetation&quot;), sq.entity(&quot;builtup&quot;)).\
    compose().\
    reduce(&quot;time&quot;, &quot;mode&quot;)

response = recipe.execute(factbase, ontology, space, time, **config)
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>f, ax = plt.subplots(1, figsize = (7, 5))

land_cover = response[&quot;land_cover&quot;]
values = [1, 2, 3]
levels = [x - 0.5 for x in values + [max(values) + 1]]
colors = [&quot;#0066CC&quot;, &quot;#00CC00&quot;, &quot;#CC0000&quot;]
land_cover.plot(ax = ax, levels = levels, colors = colors, cbar_kwargs = {&quot;ticks&quot;: values, &quot;label&quot;: &quot;cover&quot;})
ax.set_title(&quot;Land cover map&quot;)

plt.tight_layout()
plt.draw()
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/_notebooks_gallery_15_0.png" src="../_images/_notebooks_gallery_15_0.png" />
</div>
</div>
</div>
<div class="section" id="Cloud-and-snow-cover-maps">
<h2>Cloud and snow cover maps<a class="headerlink" href="#Cloud-and-snow-cover-maps" title="Permalink to this headline">¶</a></h2>
<p>Mapping for each location in space the percentages of times respectively cloud and snow were observed there.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>recipe = sq.QueryRecipe()

recipe[&quot;cloud_cover&quot;] = sq.entity(&quot;cloud&quot;).\
    reduce(&quot;time&quot;, &quot;percentage&quot;)

recipe[&quot;snow_cover&quot;] = sq.entity(&quot;snow&quot;).\
    reduce(&quot;time&quot;, &quot;percentage&quot;)

response = recipe.execute(factbase, ontology, space, time, **config)
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>f, (ax1, ax2) = plt.subplots(1, 2, figsize = (15, 5))

cloud_cover = response[&quot;cloud_cover&quot;]
cloud_cover.plot(ax = ax1, cbar_kwargs = {&quot;label&quot;: &quot;percentage&quot;})
ax1.set_title(&quot;Cloud cover&quot;)

snow_cover = response[&quot;snow_cover&quot;]
snow_cover.plot(ax = ax2, cbar_kwargs = {&quot;label&quot;: &quot;percentage&quot;})
ax2.set_title(&quot;Snow cover&quot;)

plt.tight_layout()
plt.draw()
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/_notebooks_gallery_18_0.png" src="../_images/_notebooks_gallery_18_0.png" />
</div>
</div>
</div>
<div class="section" id="Semantic-content-based-image-retrieval">
<h2>Semantic content based image retrieval<a class="headerlink" href="#Semantic-content-based-image-retrieval" title="Permalink to this headline">¶</a></h2>
<p>Check for each image if it has a cloud cover less than 10 percent.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>recipe = sq.QueryRecipe()

recipe[&quot;cloud_free_images&quot;] = sq.entity(&quot;cloud&quot;).\
    reduce(&quot;space&quot;, &quot;percentage&quot;).\
    evaluate(&quot;less&quot;, 10)

response = recipe.execute(factbase, ontology, space, time, **config)
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>response[&quot;cloud_free_images&quot;].sq.drop_non_dimension_coords().astype(&quot;bool&quot;).to_dataframe()
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cloud_free_images</th>
    </tr>
    <tr>
      <th>time</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2019-12-15 10:17:33.408715</th>
      <td>False</td>
    </tr>
    <tr>
      <th>2020-09-05 10:17:43.167942</th>
      <td>True</td>
    </tr>
    <tr>
      <th>2020-12-19 10:17:34.610661</th>
      <td>True</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="Parcel-statistics">
<h2>Parcel statistics<a class="headerlink" href="#Parcel-statistics" title="Permalink to this headline">¶</a></h2>
<p>Using a spatial extent that consists of multiple non-overlapping spatial features, calculate the average water count over time per spatial feature.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>parcels = sq.SpatialExtent(gpd.read_file(&quot;files/parcels.geojson&quot;))

recipe = sq.QueryRecipe()

recipe[&quot;avg_water_count_per_parcel&quot;] = sq.entity(&quot;water&quot;).\
    reduce(&quot;time&quot;, &quot;count&quot;).\
    groupby(sq.self().extract(&quot;space&quot;, &quot;feature&quot;)).\
    reduce(&quot;space&quot;, &quot;mean&quot;).\
    concatenate(&quot;parcel&quot;)

response = recipe.execute(factbase, ontology, parcels, time, **config)
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>df = response[&quot;avg_water_count_per_parcel&quot;].sq.drop_non_dimension_coords().to_dataframe()
df
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>avg_water_count_per_parcel</th>
    </tr>
    <tr>
      <th>parcel</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1.0</th>
      <td>0.939145</td>
    </tr>
    <tr>
      <th>2.0</th>
      <td>1.175439</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>geodf = parcels.features
geodf[&quot;avg_water_count&quot;] = response[&quot;avg_water_count_per_parcel&quot;].values
parcels.features.to_crs(4326).explore(column = &quot;avg_water_count&quot;, tiles = &quot;CartoDB positron&quot;)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe src="about:blank" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" data-html=%3C%21DOCTYPE%20html%3E%0A%3Chead%3E%20%20%20%20%0A%20%20%20%20%3Cmeta%20http-equiv%3D%22content-type%22%20content%3D%22text/html%3B%20charset%3DUTF-8%22%20/%3E%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%3Cscript%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20L_NO_TOUCH%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20L_DISABLE_3D%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%3C/script%3E%0A%20%20%20%20%0A%20%20%20%20%3Cstyle%3Ehtml%2C%20body%20%7Bwidth%3A%20100%25%3Bheight%3A%20100%25%3Bmargin%3A%200%3Bpadding%3A%200%3B%7D%3C/style%3E%0A%20%20%20%20%3Cstyle%3E%23map%20%7Bposition%3Aabsolute%3Btop%3A0%3Bbottom%3A0%3Bright%3A0%3Bleft%3A0%3B%7D%3C/style%3E%0A%20%20%20%20%3Cscript%20src%3D%22https%3A//cdn.jsdelivr.net/npm/leaflet%401.6.0/dist/leaflet.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src%3D%22https%3A//code.jquery.com/jquery-1.12.4.min.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src%3D%22https%3A//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src%3D%22https%3A//cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js%22%3E%3C/script%3E%0A%20%20%20%20%3Clink%20rel%3D%22stylesheet%22%20href%3D%22https%3A//cdn.jsdelivr.net/npm/leaflet%401.6.0/dist/leaflet.css%22/%3E%0A%20%20%20%20%3Clink%20rel%3D%22stylesheet%22%20href%3D%22https%3A//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css%22/%3E%0A%20%20%20%20%3Clink%20rel%3D%22stylesheet%22%20href%3D%22https%3A//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css%22/%3E%0A%20%20%20%20%3Clink%20rel%3D%22stylesheet%22%20href%3D%22https%3A//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css%22/%3E%0A%20%20%20%20%3Clink%20rel%3D%22stylesheet%22%20href%3D%22https%3A//cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css%22/%3E%0A%20%20%20%20%3Clink%20rel%3D%22stylesheet%22%20href%3D%22https%3A//cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css%22/%3E%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20initial-scale%3D1.0%2C%20maximum-scale%3D1.0%2C%20user-scalable%3Dno%22%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstyle%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23map_e2f0e2546e15456d9874b5787ab25106%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100.0%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20100.0%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20left%3A%200.0%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20top%3A%200.0%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/style%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cstyle%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.foliumtooltip%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.foliumtooltip%20table%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%20auto%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.foliumtooltip%20tr%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20left%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.foliumtooltip%20th%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%202px%3B%20padding-right%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/style%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%3Cscript%20src%3D%22https%3A//cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22folium-map%22%20id%3D%22map_e2f0e2546e15456d9874b5787ab25106%22%20%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%0A%3C/body%3E%0A%3Cscript%3E%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20map_e2f0e2546e15456d9874b5787ab25106%20%3D%20L.map%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22map_e2f0e2546e15456d9874b5787ab25106%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20center%3A%20%5B47.32110812526405%2C%2012.808509961311596%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20crs%3A%20L.CRS.EPSG3857%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20zoom%3A%2010%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20zoomControl%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20preferCanvas%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20L.control.scale%28%29.addTo%28map_e2f0e2546e15456d9874b5787ab25106%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20tile_layer_5bd9b4fd526c4260a3371da04230e02d%20%3D%20L.tileLayer%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22https%3A//a.basemaps.cartocdn.com/light_all/%7Bz%7D/%7Bx%7D/%7By%7D%7Br%7D.png%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22attribution%22%3A%20%22%5Cu0026copy%3B%20%5Cu003ca%20href%3D%5C%22https%3A//www.openstreetmap.org/copyright%5C%22%5Cu003eOpenStreetMap%5Cu003c/a%5Cu003e%20contributors%20%5Cu0026copy%3B%20%5Cu003ca%20href%3D%5C%22https%3A//carto.com/attributions%5C%22%5Cu003eCARTO%5Cu003c/a%5Cu003e%22%2C%20%22detectRetina%22%3A%20false%2C%20%22maxNativeZoom%22%3A%2020%2C%20%22maxZoom%22%3A%2020%2C%20%22minZoom%22%3A%200%2C%20%22noWrap%22%3A%20false%2C%20%22opacity%22%3A%201%2C%20%22subdomains%22%3A%20%22abc%22%2C%20%22tms%22%3A%20false%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28map_e2f0e2546e15456d9874b5787ab25106%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20map_e2f0e2546e15456d9874b5787ab25106.fitBounds%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B%5B47.30444420302901%2C%2012.799052458545688%5D%2C%20%5B47.33777204749909%2C%2012.817967464077503%5D%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20function%20geo_json_bd9d16a9fa4f474096a8e50775d26218_styler%28feature%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20switch%28feature.id%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%220%22%3A%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%22color%22%3A%20%22%23440154%22%2C%20%22fillColor%22%3A%20%22%23440154%22%2C%20%22fillOpacity%22%3A%200.5%2C%20%22weight%22%3A%202%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%22color%22%3A%20%22%23fde725%22%2C%20%22fillColor%22%3A%20%22%23fde725%22%2C%20%22fillOpacity%22%3A%200.5%2C%20%22weight%22%3A%202%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20function%20geo_json_bd9d16a9fa4f474096a8e50775d26218_highlighter%28feature%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20switch%28feature.id%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%22fillOpacity%22%3A%200.75%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20function%20geo_json_bd9d16a9fa4f474096a8e50775d26218_pointToLayer%28feature%2C%20latlng%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20opts%20%3D%20%7B%22bubblingMouseEvents%22%3A%20true%2C%20%22color%22%3A%20%22%233388ff%22%2C%20%22dashArray%22%3A%20null%2C%20%22dashOffset%22%3A%20null%2C%20%22fill%22%3A%20true%2C%20%22fillColor%22%3A%20%22%233388ff%22%2C%20%22fillOpacity%22%3A%200.2%2C%20%22fillRule%22%3A%20%22evenodd%22%2C%20%22lineCap%22%3A%20%22round%22%2C%20%22lineJoin%22%3A%20%22round%22%2C%20%22opacity%22%3A%201.0%2C%20%22radius%22%3A%202%2C%20%22stroke%22%3A%20true%2C%20%22weight%22%3A%203%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20style%20%3D%20geo_json_bd9d16a9fa4f474096a8e50775d26218_styler%28feature%29%0A%20%20%20%20%20%20%20%20%20%20%20%20Object.assign%28opts%2C%20style%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20new%20L.CircleMarker%28latlng%2C%20opts%29%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20geo_json_bd9d16a9fa4f474096a8e50775d26218_onEachFeature%28feature%2C%20layer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20layer.on%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mouseout%3A%20function%28e%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28typeof%20e.target.setStyle%20%3D%3D%3D%20%22function%22%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20geo_json_bd9d16a9fa4f474096a8e50775d26218.resetStyle%28e.target%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mouseover%3A%20function%28e%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28typeof%20e.target.setStyle%20%3D%3D%3D%20%22function%22%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20highlightStyle%20%3D%20geo_json_bd9d16a9fa4f474096a8e50775d26218_highlighter%28e.target.feature%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.target.setStyle%28highlightStyle%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20var%20geo_json_bd9d16a9fa4f474096a8e50775d26218%20%3D%20L.geoJson%28null%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onEachFeature%3A%20geo_json_bd9d16a9fa4f474096a8e50775d26218_onEachFeature%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20style%3A%20geo_json_bd9d16a9fa4f474096a8e50775d26218_styler%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20pointToLayer%3A%20geo_json_bd9d16a9fa4f474096a8e50775d26218_pointToLayer%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20function%20geo_json_bd9d16a9fa4f474096a8e50775d26218_add%20%28data%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20geo_json_bd9d16a9fa4f474096a8e50775d26218%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.addData%28data%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.addTo%28map_e2f0e2546e15456d9874b5787ab25106%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20geo_json_bd9d16a9fa4f474096a8e50775d26218_add%28%7B%22bbox%22%3A%20%5B12.799052458545688%2C%2047.30444420302901%2C%2012.817967464077503%2C%2047.33777204749909%5D%2C%20%22features%22%3A%20%5B%7B%22bbox%22%3A%20%5B12.803868147852612%2C%2047.33056389640604%2C%2012.817967464077503%2C%2047.33777204749909%5D%2C%20%22geometry%22%3A%20%7B%22coordinates%22%3A%20%5B%5B%5B12.803868147852612%2C%2047.33091868331674%5D%2C%20%5B12.817596157332153%2C%2047.33056389640604%5D%2C%20%5B12.817967464077503%2C%2047.33741720662344%5D%2C%20%5B12.804237649967712%2C%2047.33777204749909%5D%2C%20%5B12.803868147852612%2C%2047.33091868331674%5D%5D%5D%2C%20%22type%22%3A%20%22Polygon%22%7D%2C%20%22id%22%3A%20%220%22%2C%20%22properties%22%3A%20%7B%22__folium_color%22%3A%20%22%23440154%22%2C%20%22avg_water_count%22%3A%200.9391447368421053%2C%20%22name%22%3A%20%22Northern%22%7D%2C%20%22type%22%3A%20%22Feature%22%7D%2C%20%7B%22bbox%22%3A%20%5B12.799052458545688%2C%2047.30444420302901%2C%2012.815746431172713%2C%2047.31514111553671%5D%2C%20%22geometry%22%3A%20%7B%22coordinates%22%3A%20%5B%5B%5B12.799052458545688%2C%2047.30486091070503%5D%2C%20%5B12.815190335969971%2C%2047.30444420302901%5D%2C%20%5B12.815746431172713%2C%2047.3147243128484%5D%2C%20%5B12.799605373818284%2C%2047.31514111553671%5D%2C%20%5B12.799052458545688%2C%2047.30486091070503%5D%5D%5D%2C%20%22type%22%3A%20%22Polygon%22%7D%2C%20%22id%22%3A%20%221%22%2C%20%22properties%22%3A%20%7B%22__folium_color%22%3A%20%22%23fde725%22%2C%20%22avg_water_count%22%3A%201.1754385964912282%2C%20%22name%22%3A%20%22Southern%22%7D%2C%20%22type%22%3A%20%22Feature%22%7D%5D%2C%20%22type%22%3A%20%22FeatureCollection%22%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20geo_json_bd9d16a9fa4f474096a8e50775d26218.bindTooltip%28%0A%20%20%20%20function%28layer%29%7B%0A%20%20%20%20let%20div%20%3D%20L.DomUtil.create%28%27div%27%29%3B%0A%20%20%20%20%0A%20%20%20%20let%20handleObject%20%3D%20feature%3D%3Etypeof%28feature%29%3D%3D%27object%27%20%3F%20JSON.stringify%28feature%29%20%3A%20feature%3B%0A%20%20%20%20let%20fields%20%3D%20%5B%22name%22%2C%20%22avg_water_count%22%5D%3B%0A%20%20%20%20let%20aliases%20%3D%20%5B%22name%22%2C%20%22avg_water_count%22%5D%3B%0A%20%20%20%20let%20table%20%3D%20%27%3Ctable%3E%27%20%2B%0A%20%20%20%20%20%20%20%20String%28%0A%20%20%20%20%20%20%20%20fields.map%28%0A%20%20%20%20%20%20%20%20%28v%2Ci%29%3D%3E%0A%20%20%20%20%20%20%20%20%60%3Ctr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cth%3E%24%7Baliases%5Bi%5D%7D%3C/th%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ctd%3E%24%7BhandleObject%28layer.feature.properties%5Bv%5D%29%7D%3C/td%3E%0A%20%20%20%20%20%20%20%20%3C/tr%3E%60%29.join%28%27%27%29%29%0A%20%20%20%20%2B%27%3C/table%3E%27%3B%0A%20%20%20%20div.innerHTML%3Dtable%3B%0A%20%20%20%20%0A%20%20%20%20return%20div%0A%20%20%20%20%7D%0A%20%20%20%20%2C%7B%22className%22%3A%20%22foliumtooltip%22%2C%20%22sticky%22%3A%20true%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20var%20color_map_d7ed945b8c874ffb9dea17efad3709cc%20%3D%20%7B%7D%3B%0A%0A%20%20%20%20%0A%20%20%20%20color_map_d7ed945b8c874ffb9dea17efad3709cc.color%20%3D%20d3.scale.threshold%28%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20.domain%28%5B0.9391447368421053%2C%200.9396182716309813%2C%200.9400918064198573%2C%200.9405653412087333%2C%200.9410388759976093%2C%200.9415124107864853%2C%200.9419859455753613%2C%200.9424594803642373%2C%200.9429330151531133%2C%200.9434065499419892%2C%200.9438800847308653%2C%200.9443536195197413%2C%200.9448271543086173%2C%200.9453006890974933%2C%200.9457742238863692%2C%200.9462477586752452%2C%200.9467212934641213%2C%200.9471948282529973%2C%200.9476683630418733%2C%200.9481418978307493%2C%200.9486154326196252%2C%200.9490889674085012%2C%200.9495625021973773%2C%200.9500360369862533%2C%200.9505095717751293%2C%200.9509831065640053%2C%200.9514566413528812%2C%200.9519301761417572%2C%200.9524037109306333%2C%200.9528772457195093%2C%200.9533507805083853%2C%200.9538243152972612%2C%200.9542978500861372%2C%200.9547713848750132%2C%200.9552449196638892%2C%200.9557184544527653%2C%200.9561919892416413%2C%200.9566655240305172%2C%200.9571390588193932%2C%200.9576125936082692%2C%200.9580861283971452%2C%200.9585596631860213%2C%200.9590331979748972%2C%200.9595067327637732%2C%200.9599802675526492%2C%200.9604538023415252%2C%200.9609273371304012%2C%200.9614008719192773%2C%200.9618744067081532%2C%200.9623479414970292%2C%200.9628214762859052%2C%200.9632950110747812%2C%200.9637685458636572%2C%200.9642420806525331%2C%200.9647156154414092%2C%200.9651891502302852%2C%200.9656626850191612%2C%200.9661362198080372%2C%200.9666097545969132%2C%200.9670832893857891%2C%200.9675568241746652%2C%200.9680303589635412%2C%200.9685038937524172%2C%200.9689774285412932%2C%200.9694509633301691%2C%200.9699244981190451%2C%200.9703980329079211%2C%200.9708715676967972%2C%200.9713451024856732%2C%200.9718186372745492%2C%200.9722921720634251%2C%200.9727657068523011%2C%200.9732392416411771%2C%200.9737127764300532%2C%200.9741863112189292%2C%200.9746598460078051%2C%200.9751333807966811%2C%200.9756069155855571%2C%200.9760804503744331%2C%200.9765539851633092%2C%200.9770275199521852%2C%200.9775010547410611%2C%200.9779745895299371%2C%200.9784481243188131%2C%200.9789216591076891%2C%200.9793951938965652%2C%200.9798687286854411%2C%200.9803422634743171%2C%200.9808157982631931%2C%200.9812893330520691%2C%200.9817628678409451%2C%200.9822364026298211%2C%200.982709937418697%2C%200.9831834722075731%2C%200.9836570069964491%2C%200.9841305417853251%2C%200.9846040765742011%2C%200.985077611363077%2C%200.985551146151953%2C%200.9860246809408291%2C%200.9864982157297051%2C%200.9869717505185811%2C%200.9874452853074571%2C%200.987918820096333%2C%200.988392354885209%2C%200.9888658896740851%2C%200.9893394244629611%2C%200.9898129592518371%2C%200.990286494040713%2C%200.990760028829589%2C%200.991233563618465%2C%200.9917070984073411%2C%200.9921806331962171%2C%200.9926541679850931%2C%200.993127702773969%2C%200.993601237562845%2C%200.994074772351721%2C%200.994548307140597%2C%200.9950218419294731%2C%200.995495376718349%2C%200.995968911507225%2C%200.996442446296101%2C%200.996915981084977%2C%200.997389515873853%2C%200.9978630506627291%2C%200.998336585451605%2C%200.998810120240481%2C%200.999283655029357%2C%200.999757189818233%2C%201.000230724607109%2C%201.000704259395985%2C%201.001177794184861%2C%201.001651328973737%2C%201.002124863762613%2C%201.002598398551489%2C%201.003071933340365%2C%201.003545468129241%2C%201.004019002918117%2C%201.004492537706993%2C%201.004966072495869%2C%201.005439607284745%2C%201.005913142073621%2C%201.006386676862497%2C%201.006860211651373%2C%201.007333746440249%2C%201.007807281229125%2C%201.008280816018001%2C%201.008754350806877%2C%201.009227885595753%2C%201.009701420384629%2C%201.0101749551735049%2C%201.0106484899623809%2C%201.011122024751257%2C%201.011595559540133%2C%201.012069094329009%2C%201.012542629117885%2C%201.013016163906761%2C%201.013489698695637%2C%201.013963233484513%2C%201.014436768273389%2C%201.014910303062265%2C%201.0153838378511408%2C%201.0158573726400169%2C%201.0163309074288929%2C%201.016804442217769%2C%201.017277977006645%2C%201.017751511795521%2C%201.018225046584397%2C%201.018698581373273%2C%201.019172116162149%2C%201.019645650951025%2C%201.020119185739901%2C%201.0205927205287768%2C%201.0210662553176528%2C%201.0215397901065288%2C%201.0220133248954049%2C%201.0224868596842809%2C%201.022960394473157%2C%201.023433929262033%2C%201.023907464050909%2C%201.024380998839785%2C%201.024854533628661%2C%201.025328068417537%2C%201.0258016032064128%2C%201.0262751379952888%2C%201.0267486727841648%2C%201.0272222075730408%2C%201.0276957423619169%2C%201.0281692771507929%2C%201.0286428119396689%2C%201.029116346728545%2C%201.029589881517421%2C%201.030063416306297%2C%201.030536951095173%2C%201.0310104858840488%2C%201.0314840206729248%2C%201.0319575554618008%2C%201.0324310902506768%2C%201.0329046250395528%2C%201.0333781598284288%2C%201.0338516946173049%2C%201.0343252294061809%2C%201.034798764195057%2C%201.035272298983933%2C%201.035745833772809%2C%201.0362193685616847%2C%201.0366929033505607%2C%201.0371664381394368%2C%201.0376399729283128%2C%201.0381135077171888%2C%201.0385870425060648%2C%201.0390605772949408%2C%201.0395341120838169%2C%201.0400076468726929%2C%201.0404811816615689%2C%201.040954716450445%2C%201.0414282512393207%2C%201.0419017860281967%2C%201.0423753208170727%2C%201.0428488556059488%2C%201.0433223903948248%2C%201.0437959251837008%2C%201.0442694599725768%2C%201.0447429947614528%2C%201.0452165295503288%2C%201.0456900643392049%2C%201.0461635991280809%2C%201.046637133916957%2C%201.0471106687058327%2C%201.0475842034947087%2C%201.0480577382835847%2C%201.0485312730724607%2C%201.0490048078613368%2C%201.0494783426502128%2C%201.0499518774390888%2C%201.0504254122279648%2C%201.0508989470168408%2C%201.0513724818057169%2C%201.0518460165945926%2C%201.0523195513834687%2C%201.0527930861723447%2C%201.0532666209612207%2C%201.0537401557500967%2C%201.0542136905389727%2C%201.0546872253278488%2C%201.0551607601167248%2C%201.0556342949056008%2C%201.0561078296944768%2C%201.0565813644833528%2C%201.0570548992722286%2C%201.0575284340611046%2C%201.0580019688499807%2C%201.0584755036388567%2C%201.0589490384277327%2C%201.0594225732166087%2C%201.0598961080054847%2C%201.0603696427943607%2C%201.0608431775832368%2C%201.0613167123721128%2C%201.0617902471609888%2C%201.0622637819498648%2C%201.0627373167387408%2C%201.0632108515276166%2C%201.0636843863164926%2C%201.0641579211053687%2C%201.0646314558942447%2C%201.0651049906831207%2C%201.0655785254719967%2C%201.0660520602608727%2C%201.0665255950497488%2C%201.0669991298386248%2C%201.0674726646275008%2C%201.0679461994163768%2C%201.0684197342052526%2C%201.0688932689941286%2C%201.0693668037830046%2C%201.0698403385718807%2C%201.0703138733607567%2C%201.0707874081496327%2C%201.0712609429385087%2C%201.0717344777273847%2C%201.0722080125162607%2C%201.0726815473051365%2C%201.0731550820940128%2C%201.0736286168828886%2C%201.0741021516717646%2C%201.0745756864606406%2C%201.0750492212495166%2C%201.0755227560383926%2C%201.0759962908272687%2C%201.0764698256161447%2C%201.0769433604050207%2C%201.0774168951938967%2C%201.0778904299827727%2C%201.0783639647716488%2C%201.0788374995605245%2C%201.0793110343494006%2C%201.0797845691382766%2C%201.0802581039271526%2C%201.0807316387160286%2C%201.0812051735049046%2C%201.0816787082937807%2C%201.0821522430826567%2C%201.0826257778715327%2C%201.0830993126604085%2C%201.0835728474492845%2C%201.0840463822381605%2C%201.0845199170270365%2C%201.0849934518159126%2C%201.0854669866047886%2C%201.0859405213936646%2C%201.0864140561825406%2C%201.0868875909714166%2C%201.0873611257602926%2C%201.0878346605491687%2C%201.0883081953380447%2C%201.0887817301269207%2C%201.0892552649157965%2C%201.0897287997046725%2C%201.0902023344935485%2C%201.0906758692824245%2C%201.0911494040713006%2C%201.0916229388601766%2C%201.0920964736490526%2C%201.0925700084379286%2C%201.0930435432268046%2C%201.0935170780156807%2C%201.0939906128045567%2C%201.0944641475934325%2C%201.0949376823823085%2C%201.0954112171711845%2C%201.0958847519600605%2C%201.0963582867489365%2C%201.0968318215378126%2C%201.0973053563266886%2C%201.0977788911155646%2C%201.0982524259044406%2C%201.0987259606933164%2C%201.0991994954821926%2C%201.0996730302710684%2C%201.1001465650599445%2C%201.1006200998488205%2C%201.1010936346376965%2C%201.1015671694265725%2C%201.1020407042154485%2C%201.1025142390043245%2C%201.1029877737932006%2C%201.1034613085820766%2C%201.1039348433709526%2C%201.1044083781598286%2C%201.1048819129487044%2C%201.1053554477375804%2C%201.1058289825264564%2C%201.1063025173153325%2C%201.1067760521042085%2C%201.1072495868930845%2C%201.1077231216819605%2C%201.1081966564708365%2C%201.1086701912597126%2C%201.1091437260485886%2C%201.1096172608374646%2C%201.1100907956263404%2C%201.1105643304152164%2C%201.1110378652040924%2C%201.1115113999929684%2C%201.1119849347818445%2C%201.1124584695707205%2C%201.1129320043595965%2C%201.1134055391484725%2C%201.1138790739373485%2C%201.1143526087262245%2C%201.1148261435151006%2C%201.1152996783039764%2C%201.1157732130928524%2C%201.1162467478817284%2C%201.1167202826706044%2C%201.1171938174594804%2C%201.1176673522483564%2C%201.1181408870372325%2C%201.1186144218261085%2C%201.1190879566149845%2C%201.1195614914038605%2C%201.1200350261927365%2C%201.1205085609816123%2C%201.1209820957704884%2C%201.1214556305593644%2C%201.1219291653482404%2C%201.1224027001371164%2C%201.1228762349259924%2C%201.1233497697148684%2C%201.1238233045037445%2C%201.1242968392926205%2C%201.1247703740814965%2C%201.1252439088703725%2C%201.1257174436592483%2C%201.1261909784481243%2C%201.1266645132370003%2C%201.1271380480258764%2C%201.1276115828147524%2C%201.1280851176036284%2C%201.1285586523925044%2C%201.1290321871813804%2C%201.1295057219702564%2C%201.1299792567591325%2C%201.1304527915480085%2C%201.1309263263368843%2C%201.1313998611257603%2C%201.1318733959146363%2C%201.1323469307035123%2C%201.1328204654923884%2C%201.1332940002812644%2C%201.1337675350701404%2C%201.1342410698590164%2C%201.1347146046478924%2C%201.1351881394367684%2C%201.1356616742256445%2C%201.1361352090145203%2C%201.1366087438033963%2C%201.1370822785922723%2C%201.1375558133811483%2C%201.1380293481700243%2C%201.1385028829589003%2C%201.1389764177477764%2C%201.1394499525366524%2C%201.1399234873255284%2C%201.1403970221144044%2C%201.1408705569032804%2C%201.1413440916921562%2C%201.1418176264810325%2C%201.1422911612699083%2C%201.1427646960587843%2C%201.1432382308476603%2C%201.1437117656365363%2C%201.1441853004254123%2C%201.1446588352142884%2C%201.1451323700031644%2C%201.1456059047920404%2C%201.1460794395809164%2C%201.1465529743697922%2C%201.1470265091586682%2C%201.1475000439475442%2C%201.1479735787364203%2C%201.1484471135252963%2C%201.1489206483141723%2C%201.1493941831030483%2C%201.1498677178919243%2C%201.1503412526808003%2C%201.1508147874696764%2C%201.1512883222585524%2C%201.1517618570474282%2C%201.1522353918363042%2C%201.1527089266251802%2C%201.1531824614140562%2C%201.1536559962029322%2C%201.1541295309918083%2C%201.1546030657806843%2C%201.1550766005695603%2C%201.1555501353584363%2C%201.1560236701473123%2C%201.1564972049361883%2C%201.1569707397250644%2C%201.1574442745139404%2C%201.1579178093028162%2C%201.1583913440916922%2C%201.1588648788805682%2C%201.1593384136694442%2C%201.1598119484583203%2C%201.1602854832471963%2C%201.1607590180360723%2C%201.1612325528249483%2C%201.1617060876138243%2C%201.1621796224027001%2C%201.1626531571915761%2C%201.1631266919804522%2C%201.1636002267693282%2C%201.1640737615582042%2C%201.1645472963470802%2C%201.1650208311359562%2C%201.1654943659248322%2C%201.1659679007137083%2C%201.1664414355025843%2C%201.1669149702914603%2C%201.167388505080336%2C%201.1678620398692123%2C%201.1683355746580881%2C%201.1688091094469641%2C%201.1692826442358402%2C%201.1697561790247162%2C%201.1702297138135922%2C%201.1707032486024682%2C%201.1711767833913442%2C%201.1716503181802203%2C%201.1721238529690963%2C%201.1725973877579723%2C%201.1730709225468483%2C%201.173544457335724%2C%201.1740179921246001%2C%201.1744915269134761%2C%201.1749650617023522%2C%201.1754385964912282%5D%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20.range%28%5B%27%23440154ff%27%2C%20%27%23440155ff%27%2C%20%27%23440256ff%27%2C%20%27%23440356ff%27%2C%20%27%23450457ff%27%2C%20%27%23450458ff%27%2C%20%27%23450559ff%27%2C%20%27%23450659ff%27%2C%20%27%2346075aff%27%2C%20%27%2346075bff%27%2C%20%27%2346085cff%27%2C%20%27%2346095cff%27%2C%20%27%23460a5dff%27%2C%20%27%23460a5eff%27%2C%20%27%23460b5eff%27%2C%20%27%23460c5fff%27%2C%20%27%23470d60ff%27%2C%20%27%23470d61ff%27%2C%20%27%23470e61ff%27%2C%20%27%23470f62ff%27%2C%20%27%23471063ff%27%2C%20%27%23471064ff%27%2C%20%27%23471164ff%27%2C%20%27%23471265ff%27%2C%20%27%23471365ff%27%2C%20%27%23481366ff%27%2C%20%27%23481467ff%27%2C%20%27%23481568ff%27%2C%20%27%23481668ff%27%2C%20%27%23481669ff%27%2C%20%27%23481769ff%27%2C%20%27%2348176aff%27%2C%20%27%2348186bff%27%2C%20%27%2348196cff%27%2C%20%27%23481a6cff%27%2C%20%27%23481a6dff%27%2C%20%27%23481b6dff%27%2C%20%27%23481c6eff%27%2C%20%27%23481c6eff%27%2C%20%27%23481d6fff%27%2C%20%27%23481d6fff%27%2C%20%27%23481f70ff%27%2C%20%27%23481f70ff%27%2C%20%27%23482071ff%27%2C%20%27%23482072ff%27%2C%20%27%23482173ff%27%2C%20%27%23482273ff%27%2C%20%27%23482374ff%27%2C%20%27%23482374ff%27%2C%20%27%23482475ff%27%2C%20%27%23482476ff%27%2C%20%27%23482576ff%27%2C%20%27%23482577ff%27%2C%20%27%23482677ff%27%2C%20%27%23482778ff%27%2C%20%27%23482878ff%27%2C%20%27%23482879ff%27%2C%20%27%23482979ff%27%2C%20%27%2347297aff%27%2C%20%27%23472a7aff%27%2C%20%27%23472b7aff%27%2C%20%27%23472c7aff%27%2C%20%27%23472c7bff%27%2C%20%27%23472d7bff%27%2C%20%27%23472d7cff%27%2C%20%27%23472e7cff%27%2C%20%27%23472e7dff%27%2C%20%27%23472f7dff%27%2C%20%27%23462f7eff%27%2C%20%27%2346307eff%27%2C%20%27%2346317eff%27%2C%20%27%2346327eff%27%2C%20%27%2346327fff%27%2C%20%27%2346337fff%27%2C%20%27%23463480ff%27%2C%20%27%23453480ff%27%2C%20%27%23453581ff%27%2C%20%27%23453581ff%27%2C%20%27%23453681ff%27%2C%20%27%23453781ff%27%2C%20%27%23453882ff%27%2C%20%27%23443882ff%27%2C%20%27%23443983ff%27%2C%20%27%23443983ff%27%2C%20%27%23443a83ff%27%2C%20%27%23443a83ff%27%2C%20%27%23443b84ff%27%2C%20%27%23433c84ff%27%2C%20%27%23433d84ff%27%2C%20%27%23433d85ff%27%2C%20%27%23433e85ff%27%2C%20%27%23423e85ff%27%2C%20%27%23423f85ff%27%2C%20%27%23423f86ff%27%2C%20%27%23424086ff%27%2C%20%27%23424086ff%27%2C%20%27%23424186ff%27%2C%20%27%23414187ff%27%2C%20%27%23414287ff%27%2C%20%27%23414387ff%27%2C%20%27%23414487ff%27%2C%20%27%23404488ff%27%2C%20%27%23404588ff%27%2C%20%27%23404588ff%27%2C%20%27%23404688ff%27%2C%20%27%233f4688ff%27%2C%20%27%233f4788ff%27%2C%20%27%233f4789ff%27%2C%20%27%233f4889ff%27%2C%20%27%233e4889ff%27%2C%20%27%233e4989ff%27%2C%20%27%233e4a89ff%27%2C%20%27%233e4a89ff%27%2C%20%27%233e4b8aff%27%2C%20%27%233d4c8aff%27%2C%20%27%233d4d8aff%27%2C%20%27%233d4d8aff%27%2C%20%27%233d4e8aff%27%2C%20%27%233c4e8aff%27%2C%20%27%233c4f8aff%27%2C%20%27%233c4f8aff%27%2C%20%27%233c508bff%27%2C%20%27%233b508bff%27%2C%20%27%233b518bff%27%2C%20%27%233b518bff%27%2C%20%27%233b528bff%27%2C%20%27%233a528bff%27%2C%20%27%233a538bff%27%2C%20%27%233a538bff%27%2C%20%27%233a548cff%27%2C%20%27%2339548cff%27%2C%20%27%2339558cff%27%2C%20%27%2339558cff%27%2C%20%27%2339568cff%27%2C%20%27%2338578cff%27%2C%20%27%2338588cff%27%2C%20%27%2338588cff%27%2C%20%27%2338598cff%27%2C%20%27%2337598cff%27%2C%20%27%23375a8cff%27%2C%20%27%23375a8dff%27%2C%20%27%23375b8dff%27%2C%20%27%23365b8dff%27%2C%20%27%23365c8dff%27%2C%20%27%23365c8dff%27%2C%20%27%23365d8dff%27%2C%20%27%23355d8dff%27%2C%20%27%23355e8dff%27%2C%20%27%23355f8dff%27%2C%20%27%23355f8dff%27%2C%20%27%2334608dff%27%2C%20%27%2334608dff%27%2C%20%27%2334618dff%27%2C%20%27%2334618dff%27%2C%20%27%2333628dff%27%2C%20%27%2333628dff%27%2C%20%27%2333638dff%27%2C%20%27%2332638dff%27%2C%20%27%2332648eff%27%2C%20%27%2332648eff%27%2C%20%27%2332658eff%27%2C%20%27%2331658eff%27%2C%20%27%2331668eff%27%2C%20%27%2331668eff%27%2C%20%27%2331678eff%27%2C%20%27%2331678eff%27%2C%20%27%2331688eff%27%2C%20%27%2330688eff%27%2C%20%27%2330698eff%27%2C%20%27%2330698eff%27%2C%20%27%23306a8eff%27%2C%20%27%232f6a8eff%27%2C%20%27%232f6b8eff%27%2C%20%27%232f6b8eff%27%2C%20%27%232f6c8eff%27%2C%20%27%232e6c8eff%27%2C%20%27%232e6d8eff%27%2C%20%27%232e6d8eff%27%2C%20%27%232e6e8eff%27%2C%20%27%232e6e8eff%27%2C%20%27%232e6f8eff%27%2C%20%27%232d6f8eff%27%2C%20%27%232d708eff%27%2C%20%27%232d708eff%27%2C%20%27%232d718eff%27%2C%20%27%232c718eff%27%2C%20%27%232c718eff%27%2C%20%27%232c728eff%27%2C%20%27%232c728eff%27%2C%20%27%232c738eff%27%2C%20%27%232c738eff%27%2C%20%27%232b748eff%27%2C%20%27%232b748eff%27%2C%20%27%232b758eff%27%2C%20%27%232b758eff%27%2C%20%27%232a768eff%27%2C%20%27%232a768eff%27%2C%20%27%232a778eff%27%2C%20%27%232a778eff%27%2C%20%27%232a788eff%27%2C%20%27%2329788eff%27%2C%20%27%2329798eff%27%2C%20%27%2329798eff%27%2C%20%27%23297a8eff%27%2C%20%27%23297a8eff%27%2C%20%27%23297b8eff%27%2C%20%27%23287b8eff%27%2C%20%27%23287c8eff%27%2C%20%27%23287c8eff%27%2C%20%27%23287d8eff%27%2C%20%27%23277d8eff%27%2C%20%27%23277e8eff%27%2C%20%27%23277e8eff%27%2C%20%27%23277f8eff%27%2C%20%27%23277f8eff%27%2C%20%27%2327808eff%27%2C%20%27%2326808eff%27%2C%20%27%2326818eff%27%2C%20%27%2326818eff%27%2C%20%27%2326828eff%27%2C%20%27%2326828eff%27%2C%20%27%2326828eff%27%2C%20%27%2325828eff%27%2C%20%27%2325838eff%27%2C%20%27%2325838eff%27%2C%20%27%2325848eff%27%2C%20%27%2325858eff%27%2C%20%27%2325858eff%27%2C%20%27%2324868eff%27%2C%20%27%2324868eff%27%2C%20%27%2324878eff%27%2C%20%27%2324878eff%27%2C%20%27%2323888eff%27%2C%20%27%2323888eff%27%2C%20%27%2323898eff%27%2C%20%27%2323898eff%27%2C%20%27%23238a8dff%27%2C%20%27%23238a8dff%27%2C%20%27%23228b8dff%27%2C%20%27%23228b8dff%27%2C%20%27%23228c8dff%27%2C%20%27%23228c8dff%27%2C%20%27%23228d8dff%27%2C%20%27%23218d8dff%27%2C%20%27%23218e8dff%27%2C%20%27%23218e8dff%27%2C%20%27%23218f8dff%27%2C%20%27%23218f8dff%27%2C%20%27%2321908dff%27%2C%20%27%2321908dff%27%2C%20%27%2321918cff%27%2C%20%27%2320918cff%27%2C%20%27%2320928cff%27%2C%20%27%2320928cff%27%2C%20%27%2320928cff%27%2C%20%27%2320928cff%27%2C%20%27%2320938cff%27%2C%20%27%231f938cff%27%2C%20%27%231f948cff%27%2C%20%27%231f948cff%27%2C%20%27%231f958bff%27%2C%20%27%231f958bff%27%2C%20%27%231f968bff%27%2C%20%27%231f968bff%27%2C%20%27%231f978bff%27%2C%20%27%231f988bff%27%2C%20%27%231f988bff%27%2C%20%27%231f998bff%27%2C%20%27%231f998aff%27%2C%20%27%231f9a8aff%27%2C%20%27%231f9a8aff%27%2C%20%27%231e9b8aff%27%2C%20%27%231e9b8aff%27%2C%20%27%231e9c8aff%27%2C%20%27%231e9c89ff%27%2C%20%27%231e9d89ff%27%2C%20%27%231e9d89ff%27%2C%20%27%231e9e89ff%27%2C%20%27%231f9e89ff%27%2C%20%27%231f9f88ff%27%2C%20%27%231f9f88ff%27%2C%20%27%231fa088ff%27%2C%20%27%231fa088ff%27%2C%20%27%231fa188ff%27%2C%20%27%231fa188ff%27%2C%20%27%231fa187ff%27%2C%20%27%231fa187ff%27%2C%20%27%231fa287ff%27%2C%20%27%231fa287ff%27%2C%20%27%231fa386ff%27%2C%20%27%2320a386ff%27%2C%20%27%2320a486ff%27%2C%20%27%2320a486ff%27%2C%20%27%2320a585ff%27%2C%20%27%2321a585ff%27%2C%20%27%2321a685ff%27%2C%20%27%2321a685ff%27%2C%20%27%2321a785ff%27%2C%20%27%2322a785ff%27%2C%20%27%2322a884ff%27%2C%20%27%2322a884ff%27%2C%20%27%2322a983ff%27%2C%20%27%2323a983ff%27%2C%20%27%2323aa83ff%27%2C%20%27%2324ab83ff%27%2C%20%27%2325ab82ff%27%2C%20%27%2325ac82ff%27%2C%20%27%2325ac82ff%27%2C%20%27%2325ad82ff%27%2C%20%27%2326ad81ff%27%2C%20%27%2326ad81ff%27%2C%20%27%2327ad81ff%27%2C%20%27%2327ae81ff%27%2C%20%27%2328ae80ff%27%2C%20%27%2328af80ff%27%2C%20%27%2329af7fff%27%2C%20%27%2329b07fff%27%2C%20%27%232ab07fff%27%2C%20%27%232bb17eff%27%2C%20%27%232cb17eff%27%2C%20%27%232cb27dff%27%2C%20%27%232db27dff%27%2C%20%27%232db37cff%27%2C%20%27%232eb37cff%27%2C%20%27%232eb47cff%27%2C%20%27%232fb47cff%27%2C%20%27%2330b57bff%27%2C%20%27%2331b57bff%27%2C%20%27%2331b67aff%27%2C%20%27%2332b67aff%27%2C%20%27%2333b679ff%27%2C%20%27%2334b679ff%27%2C%20%27%2334b779ff%27%2C%20%27%2335b779ff%27%2C%20%27%2336b878ff%27%2C%20%27%2337b878ff%27%2C%20%27%2337b977ff%27%2C%20%27%2338b977ff%27%2C%20%27%2339ba76ff%27%2C%20%27%233aba76ff%27%2C%20%27%233abb75ff%27%2C%20%27%233bbb75ff%27%2C%20%27%233cbc74ff%27%2C%20%27%233dbc74ff%27%2C%20%27%233ebc73ff%27%2C%20%27%233fbd73ff%27%2C%20%27%2340bd72ff%27%2C%20%27%2340be72ff%27%2C%20%27%2341be71ff%27%2C%20%27%2342bf71ff%27%2C%20%27%2343bf70ff%27%2C%20%27%2345c070ff%27%2C%20%27%2346c06fff%27%2C%20%27%2347c16fff%27%2C%20%27%2348c16eff%27%2C%20%27%2349c16eff%27%2C%20%27%234ac16dff%27%2C%20%27%234bc26cff%27%2C%20%27%234cc26cff%27%2C%20%27%234dc36bff%27%2C%20%27%234ec36bff%27%2C%20%27%234fc46aff%27%2C%20%27%2350c46aff%27%2C%20%27%2351c569ff%27%2C%20%27%2352c569ff%27%2C%20%27%2353c568ff%27%2C%20%27%2354c568ff%27%2C%20%27%2355c667ff%27%2C%20%27%2356c667ff%27%2C%20%27%2357c766ff%27%2C%20%27%2358c765ff%27%2C%20%27%2359c864ff%27%2C%20%27%235ac864ff%27%2C%20%27%235bc863ff%27%2C%20%27%235cc863ff%27%2C%20%27%235dc962ff%27%2C%20%27%235ec962ff%27%2C%20%27%235fca61ff%27%2C%20%27%2360ca60ff%27%2C%20%27%2362cb5fff%27%2C%20%27%2363cb5fff%27%2C%20%27%2364cb5eff%27%2C%20%27%2365cc5dff%27%2C%20%27%2366cc5cff%27%2C%20%27%2367cd5cff%27%2C%20%27%2368cd5bff%27%2C%20%27%236acd5bff%27%2C%20%27%236bcd5aff%27%2C%20%27%236cce59ff%27%2C%20%27%236ece58ff%27%2C%20%27%236fcf58ff%27%2C%20%27%2370cf57ff%27%2C%20%27%2371d057ff%27%2C%20%27%2372d056ff%27%2C%20%27%2374d055ff%27%2C%20%27%2375d054ff%27%2C%20%27%2376d153ff%27%2C%20%27%2377d153ff%27%2C%20%27%2378d152ff%27%2C%20%27%237ad151ff%27%2C%20%27%237bd250ff%27%2C%20%27%237cd250ff%27%2C%20%27%237dd34fff%27%2C%20%27%237fd34eff%27%2C%20%27%2380d34dff%27%2C%20%27%2381d34dff%27%2C%20%27%2382d44cff%27%2C%20%27%2384d44bff%27%2C%20%27%2385d54aff%27%2C%20%27%2386d549ff%27%2C%20%27%2388d548ff%27%2C%20%27%2389d548ff%27%2C%20%27%238ad647ff%27%2C%20%27%238bd646ff%27%2C%20%27%238dd645ff%27%2C%20%27%238ed645ff%27%2C%20%27%238fd744ff%27%2C%20%27%2390d743ff%27%2C%20%27%2392d742ff%27%2C%20%27%2393d741ff%27%2C%20%27%2394d840ff%27%2C%20%27%2396d83fff%27%2C%20%27%2397d83eff%27%2C%20%27%2399d93dff%27%2C%20%27%239ad93cff%27%2C%20%27%239bd93cff%27%2C%20%27%239dd93bff%27%2C%20%27%239eda3aff%27%2C%20%27%239fda39ff%27%2C%20%27%23a1da38ff%27%2C%20%27%23a2da37ff%27%2C%20%27%23a3db36ff%27%2C%20%27%23a4db36ff%27%2C%20%27%23a6db35ff%27%2C%20%27%23a8db34ff%27%2C%20%27%23a9dc33ff%27%2C%20%27%23aadc32ff%27%2C%20%27%23abdc31ff%27%2C%20%27%23addc30ff%27%2C%20%27%23aedd2fff%27%2C%20%27%23b0dd2fff%27%2C%20%27%23b1dd2eff%27%2C%20%27%23b2dd2dff%27%2C%20%27%23b3de2cff%27%2C%20%27%23b5de2bff%27%2C%20%27%23b6de2aff%27%2C%20%27%23b8de29ff%27%2C%20%27%23b9de28ff%27%2C%20%27%23bade28ff%27%2C%20%27%23bcdf27ff%27%2C%20%27%23bddf26ff%27%2C%20%27%23bfdf25ff%27%2C%20%27%23c0df25ff%27%2C%20%27%23c1df24ff%27%2C%20%27%23c2df23ff%27%2C%20%27%23c4e022ff%27%2C%20%27%23c5e021ff%27%2C%20%27%23c7e020ff%27%2C%20%27%23c8e020ff%27%2C%20%27%23c9e11fff%27%2C%20%27%23cbe11eff%27%2C%20%27%23cce11dff%27%2C%20%27%23cee11dff%27%2C%20%27%23cfe11cff%27%2C%20%27%23d1e11bff%27%2C%20%27%23d2e21bff%27%2C%20%27%23d3e21aff%27%2C%20%27%23d4e21aff%27%2C%20%27%23d6e219ff%27%2C%20%27%23d7e219ff%27%2C%20%27%23d9e319ff%27%2C%20%27%23dae319ff%27%2C%20%27%23dbe318ff%27%2C%20%27%23dde318ff%27%2C%20%27%23dee318ff%27%2C%20%27%23dfe318ff%27%2C%20%27%23e0e418ff%27%2C%20%27%23e2e418ff%27%2C%20%27%23e3e418ff%27%2C%20%27%23e5e418ff%27%2C%20%27%23e6e419ff%27%2C%20%27%23e7e419ff%27%2C%20%27%23e8e519ff%27%2C%20%27%23eae519ff%27%2C%20%27%23ebe51aff%27%2C%20%27%23ece51aff%27%2C%20%27%23ede51bff%27%2C%20%27%23efe51bff%27%2C%20%27%23f0e51cff%27%2C%20%27%23f1e51dff%27%2C%20%27%23f3e61dff%27%2C%20%27%23f4e61eff%27%2C%20%27%23f5e61eff%27%2C%20%27%23f6e61fff%27%2C%20%27%23f7e620ff%27%2C%20%27%23f8e621ff%27%2C%20%27%23fae722ff%27%2C%20%27%23fbe723ff%27%2C%20%27%23fce724ff%27%2C%20%27%23fde725ff%27%5D%29%3B%0A%20%20%20%20%0A%0A%20%20%20%20color_map_d7ed945b8c874ffb9dea17efad3709cc.x%20%3D%20d3.scale.linear%28%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20.domain%28%5B0.9391447368421053%2C%201.1754385964912282%5D%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20.range%28%5B0%2C%20400%5D%29%3B%0A%0A%20%20%20%20color_map_d7ed945b8c874ffb9dea17efad3709cc.legend%20%3D%20L.control%28%7Bposition%3A%20%27topright%27%7D%29%3B%0A%20%20%20%20color_map_d7ed945b8c874ffb9dea17efad3709cc.legend.onAdd%20%3D%20function%20%28map%29%20%7Bvar%20div%20%3D%20L.DomUtil.create%28%27div%27%2C%20%27legend%27%29%3B%20return%20div%7D%3B%0A%20%20%20%20color_map_d7ed945b8c874ffb9dea17efad3709cc.legend.addTo%28map_e2f0e2546e15456d9874b5787ab25106%29%3B%0A%0A%20%20%20%20color_map_d7ed945b8c874ffb9dea17efad3709cc.xAxis%20%3D%20d3.svg.axis%28%29%0A%20%20%20%20%20%20%20%20.scale%28color_map_d7ed945b8c874ffb9dea17efad3709cc.x%29%0A%20%20%20%20%20%20%20%20.orient%28%22top%22%29%0A%20%20%20%20%20%20%20%20.tickSize%281%29%0A%20%20%20%20%20%20%20%20.tickValues%28%5B0.9391447368421053%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%200.9632374441004472%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%200.9873301513587892%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%201.0114228586171312%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%201.035515565875473%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%201.059608273133815%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%201.083700980392157%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%201.1077936876504988%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%201.131886394908841%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%201.1559791021671828%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%5D%29%3B%0A%0A%20%20%20%20color_map_d7ed945b8c874ffb9dea17efad3709cc.svg%20%3D%20d3.select%28%22.legend.leaflet-control%22%29.append%28%22svg%22%29%0A%20%20%20%20%20%20%20%20.attr%28%22id%22%2C%20%27legend%27%29%0A%20%20%20%20%20%20%20%20.attr%28%22width%22%2C%20450%29%0A%20%20%20%20%20%20%20%20.attr%28%22height%22%2C%2040%29%3B%0A%0A%20%20%20%20color_map_d7ed945b8c874ffb9dea17efad3709cc.g%20%3D%20color_map_d7ed945b8c874ffb9dea17efad3709cc.svg.append%28%22g%22%29%0A%20%20%20%20%20%20%20%20.attr%28%22class%22%2C%20%22key%22%29%0A%20%20%20%20%20%20%20%20.attr%28%22transform%22%2C%20%22translate%2825%2C16%29%22%29%3B%0A%0A%20%20%20%20color_map_d7ed945b8c874ffb9dea17efad3709cc.g.selectAll%28%22rect%22%29%0A%20%20%20%20%20%20%20%20.data%28color_map_d7ed945b8c874ffb9dea17efad3709cc.color.range%28%29.map%28function%28d%2C%20i%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20x0%3A%20i%20%3F%20color_map_d7ed945b8c874ffb9dea17efad3709cc.x%28color_map_d7ed945b8c874ffb9dea17efad3709cc.color.domain%28%29%5Bi%20-%201%5D%29%20%3A%20color_map_d7ed945b8c874ffb9dea17efad3709cc.x.range%28%29%5B0%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20x1%3A%20i%20%3C%20color_map_d7ed945b8c874ffb9dea17efad3709cc.color.domain%28%29.length%20%3F%20color_map_d7ed945b8c874ffb9dea17efad3709cc.x%28color_map_d7ed945b8c874ffb9dea17efad3709cc.color.domain%28%29%5Bi%5D%29%20%3A%20color_map_d7ed945b8c874ffb9dea17efad3709cc.x.range%28%29%5B1%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20z%3A%20d%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D%29%29%0A%20%20%20%20%20%20.enter%28%29.append%28%22rect%22%29%0A%20%20%20%20%20%20%20%20.attr%28%22height%22%2C%2010%29%0A%20%20%20%20%20%20%20%20.attr%28%22x%22%2C%20function%28d%29%20%7B%20return%20d.x0%3B%20%7D%29%0A%20%20%20%20%20%20%20%20.attr%28%22width%22%2C%20function%28d%29%20%7B%20return%20d.x1%20-%20d.x0%3B%20%7D%29%0A%20%20%20%20%20%20%20%20.style%28%22fill%22%2C%20function%28d%29%20%7B%20return%20d.z%3B%20%7D%29%3B%0A%0A%20%20%20%20color_map_d7ed945b8c874ffb9dea17efad3709cc.g.call%28color_map_d7ed945b8c874ffb9dea17efad3709cc.xAxis%29.append%28%22text%22%29%0A%20%20%20%20%20%20%20%20.attr%28%22class%22%2C%20%22caption%22%29%0A%20%20%20%20%20%20%20%20.attr%28%22y%22%2C%2021%29%0A%20%20%20%20%20%20%20%20.text%28%27avg_water_count%27%29%3B%0A%3C/script%3E onload="this.contentDocument.open();this.contentDocument.write(    decodeURIComponent(this.getAttribute('data-html')));this.contentDocument.close();" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div>
</div>
</div>
<div class="section" id="Seasonal-aggregates">
<h2>Seasonal aggregates<a class="headerlink" href="#Seasonal-aggregates" title="Permalink to this headline">¶</a></h2>
<p>We create a water count map for each season in the data separately. We use the built-in “season” component of the time dimension, which defines seasons as: 1 = Spring (March, April, May); 2 = Summer (June, July, August); 3 = Autumn (September, October, November); 4 = Winter (December, January, February).</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>recipe = sq.QueryRecipe()

recipe[&quot;water_count_per_season&quot;] = sq.entity(&quot;water&quot;).\
    groupby(sq.self().extract(&quot;time&quot;, &quot;season&quot;)).\
    reduce(&quot;time&quot;, &quot;count&quot;).\
    concatenate(&quot;season&quot;)

response = recipe.execute(factbase, ontology, space, time, **config)
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>f, (ax1, ax2) = plt.subplots(1, 2, figsize = (15, 5))

water_count_per_season = response[&quot;water_count_per_season&quot;]
values = list(range(int(np.nanmin(water_count_per_season)), int(np.nanmax(water_count_per_season)) + 1))
levels = [x - 0.5 for x in values + [max(values) + 1]]
colors = plt.cm.Blues

autumn = water_count_per_season.sel(season = 3)
autumn.plot(ax = ax1, levels = levels, cmap = colors, cbar_kwargs = {&quot;ticks&quot;: values, &quot;label&quot;: &quot;water count&quot;})
ax1.set_title(&quot;Autumn&quot;)

winter = water_count_per_season.sel(season = 4)
winter.plot(ax = ax2, levels = levels, cmap = colors, cbar_kwargs = {&quot;ticks&quot;: values, &quot;label&quot;: &quot;water count&quot;})
ax2.set_title(&quot;Winter&quot;)

plt.tight_layout()
plt.draw()
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/_notebooks_gallery_29_0.png" src="../_images/_notebooks_gallery_29_0.png" />
</div>
</div>
</div>
</div>


              </div>
              
        
            <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="../_generated/semantique.exceptions.MixedTimeZonesError.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">semantique.exceptions.MixedTimeZonesError</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../changelog.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Changelog</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
            &copy; Copyright 2021, Department of Geoinformatics – Z_GIS.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>